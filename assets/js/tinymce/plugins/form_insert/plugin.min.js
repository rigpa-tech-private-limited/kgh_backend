tinymce.PluginManager.add("form_insert",function(a){function b(a,b,c){function d(a,c){return c=c||[],tinymce.each(a,function(a){var e={text:a.text||a.title};a.menu?e.menu=d(a.menu):(e.value=a.value,b&&b(e)),c.push(e)}),c}return d(a,c||[])}function c(a,b){var c;return c="[?]{="+a+":"+b+"}[?]"}function d(){var d=[{text:"Forms",value:"forms"},{text:"Widget",value:"widget"},{text:"Banner",value:"banner"}];a.windowManager.open({title:"CSZ-CMS Forms/Widget/Banner",body:[{name:"type",type:"listbox",label:"Type",values:b(d)},{type:"textbox",name:"name",label:"Value",size:40}],onsubmit:function(b){var d=c(b.data.type,b.data.name);a.execCommand("mceInsertContent",!1,d)}})}a.addButton("form_insert",{icon:"glyphicons guicon guicon-form",tooltip:"Insert Forms/Widget/Banner",onclick:function(){d()}}),a.addMenuItem("form_insert",{icon:"glyphicons guicon guicon-form",text:"Forms",onclick:function(){d()},context:"insert",prependToContext:!0})});